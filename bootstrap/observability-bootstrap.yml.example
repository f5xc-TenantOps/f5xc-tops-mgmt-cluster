# =============================================================================
# Observability Stack Bootstrap Secrets
# =============================================================================
#
# Secrets for AWS (Terraform), F5 XC exporter, and Grafana.
#
# NOTE: There are TWO AWS secrets:
#   1. aws-credentials (this file) - Used by Terraform to CREATE S3/IAM resources
#   2. vector-aws-credentials - Created BY Terraform for Vector to READ from S3
#
# Usage:
#   cp observability-bootstrap.yml.example observability-bootstrap.yml
#   # Edit observability-bootstrap.yml with real values
#   kubectl apply -f observability-bootstrap.yml
#
# IMPORTANT: observability-bootstrap.yml is gitignored - never commit real secrets!
#
# =============================================================================

---
apiVersion: v1
kind: Secret
metadata:
  name: aws-credentials
  namespace: observability
type: Opaque
stringData:
  # AWS credentials for Terraform to create S3 bucket and IAM user.
  # These credentials need permissions to:
  #   - s3:CreateBucket, s3:PutBucketPolicy, s3:PutLifecycleConfiguration, etc.
  #   - iam:CreateUser, iam:CreateAccessKey, iam:PutUserPolicy, etc.
  #
  # After terraform runs, it creates a SEPARATE secret (vector-aws-credentials)
  # with read-only credentials for Vector.
  AWS_ACCESS_KEY_ID: "<AWS_ACCESS_KEY_ID>"
  AWS_SECRET_ACCESS_KEY: "<AWS_SECRET_ACCESS_KEY>"
  AWS_REGION: "<AWS_REGION>"

---
apiVersion: v1
kind: Secret
metadata:
  name: f5xc-tenant-credentials
  namespace: observability
type: Opaque
stringData:
  # F5 XC API credentials for prometheus exporter
  # These are used by f5xc-prom-exporter to scrape tenant metrics
  #
  # Tenant 1: MCN Lab
  TENANT1_NAME: "mcn-lab"
  TENANT1_TENANT_URL: "https://<MCN_TENANT>.console.ves.volterra.io"
  TENANT1_TOKEN: "<MCN_LAB_API_TOKEN>"
  # Tenant 2: Security Lab
  TENANT2_NAME: "sec-lab"
  TENANT2_TENANT_URL: "https://<SEC_TENANT>.console.ves.volterra.io"
  TENANT2_TOKEN: "<SEC_LAB_API_TOKEN>"
  # Tenant 3: App Lab
  TENANT3_NAME: "app-lab"
  TENANT3_TENANT_URL: "https://<APP_TENANT>.console.ves.volterra.io"
  TENANT3_TOKEN: "<APP_LAB_API_TOKEN>"

---
apiVersion: v1
kind: Secret
metadata:
  name: grafana-admin
  namespace: observability
type: Opaque
stringData:
  # Grafana admin credentials
  admin-user: "admin"
  admin-password: "<GRAFANA_ADMIN_PASSWORD>"
