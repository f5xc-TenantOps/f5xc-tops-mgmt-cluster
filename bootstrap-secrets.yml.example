# =============================================================================
# Bootstrap Secrets - Example Template
# =============================================================================
#
# This file contains ALL secrets required by this cluster. Copy this file to
# bootstrap-secrets.yml and fill in the actual values.
#
# Apply with: kubectl apply -f bootstrap-secrets.yml
#
# IMPORTANT: bootstrap-secrets.yml is gitignored - never commit real secrets!
#
# =============================================================================

# #############################################################################
#
#   NAMESPACE: tfc-operator-system
#   Used by: HCP Terraform Operator workspaces
#
# #############################################################################

---
apiVersion: v1
kind: Secret
metadata:
  name: terraformrc
  namespace: tfc-operator-system
type: Opaque
stringData:
  # HCP Terraform / Terraform Cloud API token
  token: "<TFC_API_TOKEN>"

---
apiVersion: v1
kind: Secret
metadata:
  name: tenant-tokens
  namespace: tfc-operator-system
type: Opaque
stringData:
  # F5 XC Tenant API Credentials
  # MCN Lab Tenant
  mcn_svc_cred: "<MCN_LAB_API_CREDENTIAL_P12_BASE64>"
  mcn_svc_cred_name: "<MCN_LAB_API_CREDENTIAL_NAME>"
  # Security Lab Tenant
  sec_svc_cred: "<SEC_LAB_API_CREDENTIAL_P12_BASE64>"
  sec_svc_cred_name: "<SEC_LAB_API_CREDENTIAL_NAME>"
  # App Lab Tenant
  app_svc_cred: "<APP_LAB_API_CREDENTIAL_P12_BASE64>"
  app_svc_cred_name: "<APP_LAB_API_CREDENTIAL_NAME>"

---
apiVersion: v1
kind: Secret
metadata:
  name: workspacesecrets
  namespace: tfc-operator-system
type: Opaque
stringData:
  # AWS Credentials (for TFC workspaces)
  AWS_ACCESS_KEY_ID: "<AWS_ACCESS_KEY_ID>"
  AWS_SECRET_ACCESS_KEY: "<AWS_SECRET_ACCESS_KEY>"
  # Cloudflare
  ZONE_ID: "<CLOUDFLARE_ZONE_ID>"
  ACME_EMAIL: "<ACME_EMAIL_ADDRESS>"
  # UDF
  UDF_PRINCIPAL_ORG_PATH: "<UDF_PRINCIPAL_ORG_PATH>"
  # GCP (for shop-microservices-demo workspace)
  GCP_PROJECT_ID: "<GCP_PROJECT_ID>"
  GCP_CREDENTIALS: |
    {
      "type": "service_account",
      "project_id": "<PROJECT_ID>",
      "private_key_id": "<KEY_ID>",
      "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
      "client_email": "<SERVICE_ACCOUNT_EMAIL>",
      "client_id": "<CLIENT_ID>",
      "auth_uri": "https://accounts.google.com/o/oauth2/auth",
      "token_uri": "https://oauth2.googleapis.com/token"
    }

# #############################################################################
#
#   NAMESPACE: terrakube
#   Used by: Terrakube (self-hosted Terraform automation)
#
# #############################################################################

---
apiVersion: v1
kind: Secret
metadata:
  name: terrakube-api-secrets
  namespace: terrakube
type: Opaque
stringData:
  # Terrakube API token (for self-management via Terraform)
  TERRAKUBE_TOKEN: "<TERRAKUBE_API_TOKEN>"
  # SSH deploy key for VCS polling (private key)
  SSH_PRIVATE_KEY: |
    -----BEGIN OPENSSH PRIVATE KEY-----
    <DEPLOY_KEY_FOR_THIS_REPO>
    -----END OPENSSH PRIVATE KEY-----

# #############################################################################
#
#   NAMESPACE: observability
#   Used by: Prometheus, Grafana, Loki, Vector, f5xc-prom-exporter
#
# #############################################################################

---
apiVersion: v1
kind: Secret
metadata:
  name: aws-credentials
  namespace: observability
type: Opaque
stringData:
  # AWS credentials for Vector to pull logs from S3
  # (Global Log Receiver bucket)
  AWS_ACCESS_KEY_ID: "<VECTOR_S3_ACCESS_KEY_ID>"
  AWS_SECRET_ACCESS_KEY: "<VECTOR_S3_SECRET_ACCESS_KEY>"
  AWS_REGION: "<S3_BUCKET_REGION>"
  S3_BUCKET_NAME: "<GLOBAL_LOG_RECEIVER_BUCKET_NAME>"

---
apiVersion: v1
kind: Secret
metadata:
  name: f5xc-tenant-credentials
  namespace: observability
type: Opaque
stringData:
  # F5 XC API credentials for prometheus exporter
  # These are used by f5xc-prom-exporter to scrape tenant metrics
  #
  # Tenant 1: MCN Lab
  TENANT1_NAME: "mcn-lab"
  TENANT1_API_URL: "https://<MCN_TENANT>.console.ves.volterra.io/api"
  TENANT1_API_TOKEN: "<MCN_LAB_API_TOKEN>"
  # Tenant 2: Security Lab
  TENANT2_NAME: "sec-lab"
  TENANT2_API_URL: "https://<SEC_TENANT>.console.ves.volterra.io/api"
  TENANT2_API_TOKEN: "<SEC_LAB_API_TOKEN>"
  # Tenant 3: App Lab
  TENANT3_NAME: "app-lab"
  TENANT3_API_URL: "https://<APP_TENANT>.console.ves.volterra.io/api"
  TENANT3_API_TOKEN: "<APP_LAB_API_TOKEN>"

---
apiVersion: v1
kind: Secret
metadata:
  name: grafana-admin
  namespace: observability
type: Opaque
stringData:
  # Grafana admin credentials
  admin-user: "admin"
  admin-password: "<GRAFANA_ADMIN_PASSWORD>"

# #############################################################################
#
#   NAMESPACE: argocd
#   Used by: ArgoCD configuration
#
# #############################################################################

---
apiVersion: v1
kind: Secret
metadata:
  name: argocd-initial-admin
  namespace: argocd
type: Opaque
stringData:
  # Note: ArgoCD generates its own admin password on first install.
  # This secret is only needed if you want to set a specific password.
  # See: argocd account update-password
  password: "<ARGOCD_ADMIN_PASSWORD>"
